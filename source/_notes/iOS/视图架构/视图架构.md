> 代码越少，问题越少

- Model，数据层
- View，展示层
- Controller/Presenter/ViewModel，Model 和 View 之间的胶水。View 触发变更动作时，它负责去修改相应的 Model；当 Model 的值发生变化时，它负责去更新对应的 View。



### iOS 中的 MVC

![](<https://dn-coding-net-production-pp.codehub.cn/8d779f6a-265b-43c3-90be-dc9997b9963d.png>)

View 和 Model 相互独立，只通过 Controller 建立数据联系。由一般不会把业务写在 View 和 Model 中，Controller 就成了业务承载者。

在 iOS 里面，由于 Controller 需要管理 View 的整个生命周期（Controller 内置了一个 View），所以 Controller 和 View 很难做到相互独立。由于 View 主要负责将用户的操作行为抛给 Controller 去处理，而 Model 除了承载部分数据转换和业务逻辑工作，无法再塞更多东西了，Controller 往往成为所有东西的代理和数据源，甚至还有网络请求的发起和取消，已经更多业务。

由于 Controller 和 View 高度耦合，导致难以对 Controller 进行单元测试。

**实际上现在我们在 Controller 里面直接让 Model 配置 View 不符合苹果定义的 MVC** ：

```
var userCell = tableView.dequeueReusableCellWithIdentifier("identifier") as UserCell
userCell.configureWithUser(user)
```

MVC 各模块职责：

- M
  - 给 C 提供数据
  - 给 C 存储数据提供接口
  - 提供经过抽象的业务基础组件，供 C 调度
- C
  - 管理 V 容器的生命周期
  - 负责生成所有 V 的实例，并放入 V 容器
  - 监听来自 V 与业务有关的事件，并完成的 Model 交互逻辑
- V
  - 响应与业务无关事件
  - 界面元素表达

### MVP

![](<https://dn-coding-net-production-pp.codehub.cn/d8ad72b3-f150-4988-af6f-0db785c40793.png>)

### MVVM

![](<https://dn-coding-net-production-pp.codehub.cn/1b8ff549-4fa4-489a-adf3-e8ba52e6bb96.png>)

### VIPER

![](<https://dn-coding-net-production-pp.codehub.cn/aaa8d85f-b66a-4bb2-a8f5-13fae704d3b1.png>)

### 资料

[iOS应用架构谈 view层的组织和调用方案](https://casatwy.com/iosying-yong-jia-gou-tan-viewceng-de-zu-zhi-he-diao-yong-fang-an.html)