链接静态库生成动态库，但在其他动态库链接此动态库时，会报某个符号未找到错误



比如现有动态库 A，静态库 B

A 依赖 B，A 在生成动态库时，会链接 B

B 中有 test.c 文件，其中只有导出函数 test ，如果 A 中没有使用到 test ，那么 test.o 就不会被链接进 A （走不到符号 strip 阶段）

如果 test.c 中有导出函数 test2 ，A 中使用到了 test2，那么  test.o 会被链接进 A，在不设置导出符号的情况下，test 函数也会被动态库 A 导出。

总之，目标文件 .o 会不会被链接进动态库，取决于动态库使用使用了 .o 中的任意符号

